This python code is used for removing orbital error as well as removing the topographic correlated atmospheric delay in InSAR interferograms. 

There are 3 python codes in the package. remove_aps_wrap_prep.py is the main file which reads all the inputs. It requires a text file storing all the parameters. An example of the text file has been included in the package (flat.proc). In the text file, "interf" specifies the the path to the interferogram folder (sub folder of which contains all folders of invividual interferograms. This is typical structure for roipac results generated by RSMAS and NSBAS codes). "pattern" specifies the string contained in the interferogram to be corrected (there are usually a lot of interferograms with different name in one folder). "mask" specifies a pre-defined mask file for the pixels the user want to put into the code. "plane_type" specifies the model of orbital error: 1. only linear in range; 2. bi-linear in both range and azimuth; 3. linear in range and quadratic in azimuth. "aps_type" specifies the model of atmosphere delay: 1. linear(constant in first derivative); 2.quadratic. "step" specifies the pixel distance when calculating the derivatives (e.g. 50 means we calculate the derivative between the 1st and 51st pixel), it also specifies the number of iterations, should be consistent with the next parameter. "th_d" specifies the maximum derivative value the code accepts, larger than this value will be masked as NaN. "th_c" specifies the threshold of spatial coherence, larger than this will be maked as NaN. "method" specifies the method of inversion: 0. mean; 1. median. "solution" specifies if the code implements feature scaling: 1. no feature scaling; 2. with feature scaling. "dem" specifies the path to dem, should be the same size, coordinates of the interferogram, in int16 format. "software" specifies the supported format, now the code supports RSMAS and NSBAS format, it is easy to extend to other formats.   

The code remove_aps_wrap_prep.py prepare all the documents needed in processing and sends the jobs to the nodes on cluster. It is now wriiten for LSF system and is easy to change to other system. remove_aps_wrap.py is the code doing the corection based on the options prepared by remove_aps_wrap_prep.py. And Rsmas_Utilib.py is an uitilities library.

Any question please connect Wenliang Zhao at "zhaowenliangpolyu@gmail.com"
Latest update May 2014
